<div class="page-header">
  <h1>{{topic.name}}</h1>
</div>

<p>
  {{topic.description}}
</p>

<h2>
  <ng-pluralize count="topic.Messages.length"
                 when="{'0': 'Ei Viestejä',
                     'one': '1 Viesti',
                     'other': '{} Viestiä'}">
</ng-pluralize>
</h2>

<div>
  <ul class="media-list" ng-repeat="message in messages">
    <li class="media">
      <div class="media-body">
        <h4 class="media-heading">
          <a href="#/messages/{{message.id}}">{{message.title}}</a>
        </h4>
  
        <p>
          {{message.content}}
        </p>
  
        <p class="text-muted">
          {{message.User.username}}
          <span>{{message.createdAt | date:'dd/MM/yyyy HH:mm'}}</span>
        </p>
      </div>
    </li>
  </ul>
</div>
<h2>Lisää oma viestisi</h2>

<div ng-if="userLoggedIn">
  <form>
    <div class="form-group">
      <label>Otsikko</label>
      <input type="text" class="form-control" ng-model="newMsg.title">
    </div>
  
    <div class="form-group">
      <label>Viesti</label>
      <textarea class="form-control" ng-model="newMsg.content"></textarea>
    </div>
    <button class="btn btn-success" ng-click="addMsg(newMsg)">Lisää viesti</button>
  </form>
</div>
